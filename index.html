<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>starks-proofgen example</title>
  </head>
  <body>
    <script type="module">
      import init, {generate_program,starks_proofgen,generate_program_hash,starks_proofgen_with_program_name,output_program_string,output_inputs_string,output_option_string,init_panic_hook} from "./pkg/distaff.js";
      // import init from "./pkg/starks_proofgen.js";
      init().then(m => {
        console.log(2132, m)
                init_panic_hook()
                let b = output_inputs_string("1")
// 
          // console.log("11")
                let c = output_option_string()
                let d = generate_program("begin push.0 push.1 push.2 push.4 push.1 read dup push.1 while.true roll.4 ne if.true swap push.1 add dup push.5 ne if.true swap dup push.1 else pad.3 end else push.1 pad end end end")
                // let d = generate_program_alone("begin add push.5 mul push.7 end")
                // let f = generate_program("begin push.0 push.1 push.2 push.4 push.1 read dup push.1 while.true roll.4 ne if.true swap push.1 add dup push.5 ne if.true swap dup push.1 else pad.3 end else push.1 pad end end end")

                // let e = generate_program_alone(" begin push.9 read dup.2 lt.128 if.true mul else add end dup isodd.128 end")
                // let d = generate_program("begin pad read dup push.1 ne while.true swap push.1 add swap dup isodd.128 if.true push.3 mul push.1 add else push.2 div end dup push.1 ne end swap end")
                console.log("11122")
                let e = generate_program_hash("begin push.0 push.1 push.2 push.4 push.1 read dup push.1 while.true roll.4 ne if.true swap push.1 add dup push.5 ne if.true swap dup push.1 else pad.3 end else push.1 pad end end end")

                // console.log(f)
                // console.log(starks_proofgen_with_program_name("number_over_20",b,1,c))
                console.log(starks_proofgen(d,b,1,c))
                console.log(e)

                // console.log(d)

              }).catch(console.error);

      </script>
  </body>
</html>